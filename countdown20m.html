<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <link rel="stylesheet" href="CSS/stylesheet.css">
        <meta charset="utf-8">
    <title>Countdown 20min</title>
    </head>
    <body>
<div id="startPage">
<!--Headings and close/back button-->
    <div class="Header">Study Timer</div>
    <div class="backButton">
        <a onclick="history.back()">
            <img style="width: 13.33px; height: 20px; left: 12px; top: 10px; position: absolute" src="images/backIcon.png"/>
        </a>    
        </div>
    <div class="closeButton">
        <a href="index.html">
            <img style="width: 18px; height: 18px; left: 11px; top: 11px; position: absolute" src="images/closeIcon.png"/>
        </a>
    </div> 

<!--ADD CODE AFTER HERE (INSIDE FRAME)-->
    <div id="Frame">
        
        <!--timer function below-->
        <div class="timerHeading">20 minute Timer</div>
        <div id="timer" style="left: 60px; top: 243px; position: absolute; color: black; font-size: 60px; font-family: Silkscreen-bold; font-weight: 700;">20:00</div>
        <button id="startButton" class="timerButton" style="left: 18px; background: var(--L-green, #417241); outline: 6px var(--D-green, #365036) solid;">Start Timer</button>
        <button id="restartButton" class="timerButton" style="left: 181px; background: var(--L-purple, #616383); outline: 6px var(--D-purple, #424359) solid;">Restart Timer</button>
        <script>
            let timer;
            let timerRunning = false;
            let remainingTime = 20 * 60;
            let interval;

            function updateDisplay(display, time) {
                let minutes = Math.floor(time / 60);
                let seconds = time % 60;
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                display.textContent = minutes + ":" + seconds;
            }

            function startCountdown(display) {
                if (!timerRunning) {
                    timerRunning = true;
                    document.getElementById("startButton").textContent = "Pause Timer";
                                        startButton.style.backgroundColor = "#E80909";
                                        startButton.style.outline = "6px solid #9D0606";
                    interval = setInterval(function () {
                        if (remainingTime > 0) {
                            remainingTime--;
                            updateDisplay(display, remainingTime);
                        } else {
                            clearInterval(interval);
                            display.textContent = "Time's up!";
                            document.getElementById("startButton").disabled = true;
                        }
                    }, 1000);
                } else {
                    clearInterval(interval);
                    timerRunning = false;
                    document.getElementById("startButton").textContent = "Resume Timer";
                                        startButton.style.backgroundColor = "#417241";
                                        startButton.style.outline = "6px solid #365036";
                }
            }

            document.getElementById("startButton").addEventListener("click", function () {
                let display = document.getElementById('timer');
                startCountdown(display);
            });

            document.getElementById("restartButton").addEventListener("click", function () {
                clearInterval(interval);
                remainingTime = 20 * 60;
                let display = document.getElementById('timer');
                updateDisplay(display, remainingTime);
                document.getElementById("startButton").textContent = "Start Timer";
                document.getElementById("startButton").disabled = false;
                timerRunning = false;
            });

            window.onload = function () {
                let display = document.getElementById('timer');
                updateDisplay(display, remainingTime);
            };
        </script>

    </div>

</div>

    </body>
    <link href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">
</html>
